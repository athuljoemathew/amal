<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Operation: Say Yes ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-pink: #cc0066;
            --soft-brown: #5c3a3a;
            --bg-gradient: linear-gradient(180deg, #ffd6e8 0%, #ffb3d9 50%, #ff99cc 100%);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Fredoka', sans-serif;
            background: var(--bg-gradient);
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            touch-action: manipulation;
        }

        #heart-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .heart { position: absolute; color: white; opacity: 0.5; animation: irregularFloat linear forwards; }
        
        @keyframes irregularFloat {
            0% { transform: translateY(110vh) translateX(0) scale(var(--s)) rotate(0deg); opacity: 0; }
            50% { transform: translateY(50vh) translateX(-20px) scale(var(--s)) rotate(-15deg); opacity: 0.7; }
            100% { transform: translateY(-15vh) translateX(20px) scale(var(--s)) rotate(360deg); opacity: 0; }
        }

        .container { position: relative; z-index: 10; text-align: center; width: 95%; max-width: 450px; }
        .page { display: none; flex-direction: column; align-items: center; animation: fadeIn 0.4s forwards; }
        .page.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        h1 { color: var(--dark-pink); font-size: 1.8rem; margin: 10px 0; z-index: 5; }
        .big-msg { font-size: 2.2rem; font-weight: 600; color: var(--dark-pink); line-height: 1.2; }

        .btn {
            background: white; border: none; color: var(--dark-pink);
            padding: 12px 25px; font-size: 1rem; border-radius: 50px;
            cursor: pointer; font-weight: 600; margin: 10px;
            box-shadow: 0 4px 15px rgba(204, 0, 102, 0.2); transition: 0.2s;
        }
        
        #yesBtn { 
            background: var(--dark-pink); color: white; 
            z-index: 100; position: relative;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), width 0.3s, height 0.3s;
        }

        .bear-gif { width: 180px; height: auto; border-radius: 15px; margin-bottom: 10px; z-index: 5; }

        /* No Button Feedback */
        .no-msg {
            position: fixed; color: #ff3366; font-weight: bold; font-size: 0.9rem;
            background: white; padding: 5px 12px; border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            animation: fadeOut 1.5s forwards; z-index: 150; pointer-events: none;
        }
        @keyframes fadeOut { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.8) translateY(-20px); } }

        .paper {
            background: #fffef0; padding: 20px; border-radius: 2px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 90%;
            max-height: 50vh; overflow-y: auto; text-align: left;
            border-left: 2px solid #ffadad;
        }
        .letter-text { font-family: 'Poppins', sans-serif; font-size: 0.85rem; color: #444; line-height: 1.6; white-space: pre-line; }
    </style>
</head>
<body>

    <div id="heart-container"></div>

    <div class="container">
        <div class="page active" id="p1">
            <img src="gifs/bear-entry.gif" class="bear-gif">
            <h1>Wait for it... ‚ù§Ô∏è</h1>
            <button class="btn" onclick="next('p2')">Okay fine.</button>
        </div>

        <div class="page" id="p2">
            <img src="gifs/bear-choice.gif" class="bear-gif">
            <h1>You have a choice.</h1>
            <button class="btn" onclick="next('p-mood')">Let's see what you made.</button>
            <button class="btn" onclick="next('p-mood')">Why did you even make this?</button>
        </div>

        <div class="page" id="p-mood">
            <img src="gifs/bear-mood.gif" class="bear-gif">
            <h1>Mood Check üíó</h1>
            <button class="btn" onclick="next('p-angry')">Angry üò§</button>
            <button class="btn" onclick="next('p-happy')">Happy üòä</button>
        </div>

        <div class="page" id="p-angry">
            <div style="background:white; padding:5px 15px; border-radius:20px; color:var(--dark-pink); font-weight:bold; margin-bottom:10px;">amal</div>
            <img src="gifs/bear-angry.gif" id="angryBear" class="bear-gif" onclick="beat(event)">
            <h1>Beat me as much as you want.</h1>
            <p id="hit-count">Hits: 0</p>
            <button class="btn" id="cont-angry" style="display:none;" onclick="next('p-ouch-msg')">Continue? ü•∫</button>
        </div>

        <div class="page" id="p-ouch-msg">
            <img src="gifs/bear-angry.gif" class="bear-gif" style="filter: grayscale(0.5);">
            <div class="big-msg">UR STRONG!<br>THAT HURT üò≠</div>
            <button class="btn" onclick="next('p-happy')">Sorry (or not) ‚ù§Ô∏è</button>
        </div>

        <div class="page" id="p-happy">
            <img src="gifs/bear-entry.gif" class="bear-gif">
            <h1>For You... üåπ</h1>
            <button class="btn" onclick="next('p-memory')">Continue ‚ù§Ô∏è</button>
        </div>

        <div class="page" id="p-memory">
            <img src="gifs/bear-choice.gif" class="bear-gif">
            <p>Do you remember that day at the <b>annual day in 6th</b>?</p>
            <p>That's when I started looking for you every day.</p>
            <button class="btn" onclick="next('p-letter')">Next</button>
        </div>

        <div class="page" id="p-letter">
            <p style="font-size: 0.8rem; font-style: italic; color: #cc0066; margin-bottom: 5px;">"something i wanna say"</p>
            <div class="paper">
                <div class="letter-text">
Remember that day when we first met, at our school annual day and aftersome months you sending a message saying 
you saw me in your dream which was we both locked - up in a class which eventually turned out to be a lie, then we 
started calling, texting those days were really fun. You know what i really love about you, 
you never give up on me you always forgive you're soo kind to me i love that! We been together for almost 2 years 
isn't that crazy not everybody reaches this far, hmm... i guess were special. I hope you will be with me for the rest of my life. 
You're soo special to me do you even know that do you knowhow deeply am in love with you. If there is anything you want me to change 
in me or my behavior just tell me alright i change for sure and if you asked me to change something and i didn't just remind me of 
that. I love you soo much forever. You read the whole thing right ü§®
                </div>
            </div>
            <button class="btn" onclick="next('p-tease')">I read it... ‚ù§Ô∏è</button>
        </div>

        <div class="page" id="p-tease">
            <img src="gifs/bear-entry.gif" class="bear-gif">
            <p>the way you talk to me when you say every single thing that happend, even weired once</p>
            <p>But you don't know how much i enjoy those.</p>
            <button class="btn" onclick="next('p-val')">Show me üëÄ</button>
        </div>

        <div class="page" id="p-val">
            <img src="gifs/bear-entry.gif" class="bear-gif">
            <h1 id="question-text">Will you be my Valentine?</h1>
            <div style="display:flex; justify-content:center; align-items:center; min-height:200px; width:100%; position:relative;">
                <button class="btn" id="yesBtn" onclick="next('p-hug')">‚ù§Ô∏è YES</button>
                <button class="btn" id="noBtn" onclick="handleNo()">üò∂ NO</button>
            </div>
        </div>

        <div class="page" id="p-hug">
            <img src="gifs/bear-hug.gif" class="bear-gif">
            <h1>Virtual Hug Unlocked! ü§ó</h1>
            <button class="btn" onclick="next('p-success')">Next ‚ù§Ô∏è</button>
        </div>

        <div class="page" id="p-success">
            <img src="gifs/bear-celebrate.gif" class="bear-gif">
            <h1>Best Decision Ever! ü•∞</h1>
            <button class="btn" onclick="finish('Ice Cream Date üç¶')">Ice cream date</button>
            <button class="btn" onclick="finish('walking date üå≥')">walking date</button>
            <button class="btn" onclick="finish('Nowhere (Just Us) üè†')">Nowhere</button>
        </div>

        <div class="page" id="p-final">
            <img src="gifs/bear-celebrate.gif" class="bear-gif">
            <h1>It's a Date! üîí</h1>
            <p>Our Plan: <br><span id="final-choice" style="color:var(--dark-pink); font-size:1.5rem; font-weight:bold;"></span></p>
            <p><b>Screenshot this and send it to amal!</b></p>
        </div>
    </div>

    <script>
        // --- IRREGULAR HEARTS ---
        function spawnHeart() {
            const h = document.createElement('div');
            h.className = 'heart'; h.innerHTML = '‚ù§Ô∏è';
            const size = Math.random() * 35 + 20;
            h.style.setProperty('--s', size / 20);
            h.style.left = Math.random() * 90 + 'vw';
            h.style.fontSize = size + 'px';
            h.style.animationDuration = (Math.random() * 3 + 4) + 's';
            document.getElementById('heart-container').appendChild(h);
            setTimeout(() => h.remove(), 7000);
        }
        setInterval(spawnHeart, 400);

        function next(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // --- BEATING LOGIC ---
        let hits = 0;
        function beat(e) {
            hits++;
            document.getElementById('hit-count').innerText = `Hits: ${hits}`;
            const ouch = document.createElement('div');
            ouch.style.position = 'fixed'; ouch.style.left = e.clientX + 'px'; ouch.style.top = e.clientY + 'px';
            ouch.style.color = 'red'; ouch.style.fontWeight = 'bold'; ouch.innerText = 'OUCH!';
            ouch.style.zIndex = '1000'; ouch.style.pointerEvents = 'none';
            document.body.appendChild(ouch);
            setTimeout(() => ouch.remove(), 500);
            if(hits >= 1) document.getElementById('cont-angry').style.display = 'block';
        }

        // --- NO BUTTON LOGIC ---
        let noClicks = 0;
        const noTexts = ["Are you sure?", "Really?", "Think again!", "Di, please?", "You're breaking my heart!", "Wait, NO!"];

        function handleNo() {
            noClicks++;
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');

            // Show Text Message where No was clicked
            const rect = noBtn.getBoundingClientRect();
            const msg = document.createElement('div');
            msg.className = 'no-msg';
            msg.innerText = noTexts[(noClicks - 1) % noTexts.length];
            msg.style.left = rect.left + 'px';
            msg.style.top = rect.top + 'px';
            document.body.appendChild(msg);

            if (noClicks >= 6) {
                noBtn.style.display = 'none';
                yesBtn.style.position = 'fixed';
                yesBtn.style.left = '0'; yesBtn.style.top = '0';
                yesBtn.style.width = '100vw'; yesBtn.style.height = '100vh';
                yesBtn.style.borderRadius = '0';
                yesBtn.style.fontSize = '3rem';
                yesBtn.innerText = "YES! ‚ù§Ô∏è";
                return;
            }

            // Move No Button (Strictly inside screen)
            const padding = 60;
            const newX = Math.random() * (window.innerWidth - noBtn.offsetWidth - padding) + padding/2;
            const newY = Math.random() * (window.innerHeight - noBtn.offsetHeight - padding) + padding/2;
            noBtn.style.position = 'fixed';
            noBtn.style.left = newX + 'px';
            noBtn.style.top = newY + 'px';

            // Grow Yes Button
            let scale = 1 + (noClicks * 0.8);
            yesBtn.style.transform = `scale(${scale})`;
        }

        function finish(val) {
            document.getElementById('final-choice').innerText = val;
            next('p-final');
        }
    </script>
</body>
</html>